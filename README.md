# Gary ROS2 Control Solution

Gary ROS2 is an integrated visual control software and supporting hardware suite designed to run on a PC, enabling development of high-performance robots without the need for a subordinate controller. It is based on ROS2 and ROS2-Control, providing hardware and simulation interfaces alongside compatible controllers.

## Based on ROS2

ROS (Robot Operating System) is a popular framework that can be freely combined and customized according to user needs, offering a high degree of configurability. It supports various operating systems, including Linux, Windows, and Mac OS, achieving cross-platform usability. ROS provides a wealth of tools and API interfaces, making it convenient for users to integrate existing software into ROS and extend it. Additionally, ROS has a vast array of open-source libraries and tools that facilitate rapid robot application development and innovation. Using ROS can simplify the process of developing robot applications and accelerate system development and innovation. Compared to ROS 1, ROS 2 offers enhanced reliability, multi-platform support, improved real-time capabilities, easy scalability, and better security. It employs DDS middleware for messaging, ensuring reliable data exchange with low latency and high throughput. ROS 2 also introduces new build tools and dependency management systems, supports multiple operating systems and embedded devices, and is better suited for large-scale systems and multi-robot collaboration scenarios, thus enhancing the reliability, security, and real-time requirements of robot systems.

## No Subordinate Controller

Compared to control systems with subordinate controllers, systems without them offer lower hardware costs, simplified architecture, improved computational performance and response time, and greater flexibility and ease of integration. These systems execute all control and computation tasks on a single computer, reducing hardware costs and simplifying system architecture. Utilizing high-performance computers provides faster computation and response times, enhancing system real-time performance. Additionally, computer-based control yields high flexibility and ease of integration, allowing for different control algorithms and applications to be easily implemented. As a result, non-subordinate control systems have a broad application prospect in the field of robotics.

## High Code Reusability

We emphasize code reusability in our design by modularizing and parameterizing the code. For different robots, only different types and quantities of controllers need to be loaded based on configuration files. This allows a single codebase to be used for all robots. For example, once the basic module for a robot is developed, the same functionalities can be extended to other robots by simply writing configuration files, without needing to write or modify any code except in the decision-making layer. We use gary_ros2 across all our robots, achieving excellent results.

## Multi-Rigid Body Dynamics Simulation

Multi-rigid body dynamics simulation has the advantage of allowing high-precision dynamic analysis and control of robots, improving their motion stability and responsiveness. It can predict robot motion states and energy consumption under different conditions, optimizing control algorithms, mechanical design, and electrical systems to enhance efficiency and capability. In robot research, production, and application, this simulation reduces costs and risks, shortens development cycles, and improves adaptability and reliability, advancing robotic technology and applications. All team robots can perform multi-rigid body dynamics simulation in Gazebo, using the same code or even the same binary for both simulation and actual operation. Apart from the emitter controllers, other modules and controllers are debugged and tested in simulation during development. This allows for paused time during breakpoint debugging, enabling code testing and rough parameter adjustment before mechanical assembly, significantly enhancing development and iteration efficiency.

## Good Compatibility

Linux's SocketCAN provides direct access to the CAN bus, facilitating the development and testing of embedded CAN devices while supporting standard CAN and CAN FD protocols. It offers a high-performance socket interface and APIs in multiple programming languages for easy CAN data read/write and processing. SocketCAN also supports CAN bus filtering and monitoring functions, allowing convenient data flow analysis and debugging on the CAN bus, improving communication accuracy and the stability and reliability of embedded systems. The hardware interface is based on Linux's SocketCAN and sysfs, allowing operation on embedded boards with CAN interface. We also created a USB-to-CAN device to support operation on any PC platform, such as Intel NUC and laptops.

## Rich Debugging Tools

In ROS, debugging tools are crucial as they help developers identify issues within programs, increasing development efficiency and reliability. Firstly, ROS provides real-time debugging tools capable of receiving data streams and offering instant feedback for rapid problem identification. For instance, the "ros2 topic echo" command enables real-time query and display of ROS topics' message content. Secondly, ROS offers visualization tools like Rviz and rqt, which help developers graphically inspect robot states, sensor data, and execution paths. These tools allow for intuitive monitoring of robot operations, facilitating quick problem identification. Lastly, ROS's debugging tools integrate seamlessly within the ROS ecosystem, comprising numerous nodes, packages, and libraries. Tools such as "ros2 bag" can save sensor data for later integration with others like Rviz for visual replay. Overall, ROS debugging tools play a pivotal role in robot development by offering real-time, visualization, and integration advantages, helping developers swiftly pinpoint and resolve issues, enhancing development efficiency and reliability. Leveraging the ROS ecosystem, various visualization and debugging tools are available for remote motor data, computation results, and image inspection. Dynamic_reconfigure allows dynamic parameter adjustment. Our debugging interface, backed by rqt, can be constructed without writing additional code.
